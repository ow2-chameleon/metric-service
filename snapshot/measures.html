
<!DOCTYPE html>
<!--
 Generated by Apache Maven Doxia at 2013-08-14
 Rendered using Maven Reflow Skin 1.0.0 (http://andriusvelykis.github.com/reflow-maven-skin)
-->
<html  xml:lang="en" lang="en">

	<head>
		<meta charset="UTF-8" />
		<title>Measures | OW2 Chameleon - Metric Service</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="description" content="" />
		<meta http-equiv="content-language" content="en" />

		<link href="./css/bootstrap.min.css" rel="stylesheet" />
		<link href="./css/bootstrap-responsive.min.css" rel="stylesheet" />
		<link href="./css/docs.css" rel="stylesheet" />
		<link href="./css/reflow-skin.css" rel="stylesheet" />
		
		<link href="http://yandex.st/highlightjs/7.3/styles/github.min.css" rel="stylesheet" />
		
		<link href="./css/lightbox.css" rel="stylesheet" />
		
		<link href="./css/site.css" rel="stylesheet" />
		<link href="./css/print.css" rel="stylesheet" media="print" />
		
		<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
		<!--[if lt IE 9]>
			<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->
		
<link rel="stylesheet" href="css/font-awesome.css"/>
<link rel="stylesheet" type="text/css" media="screen" href="css/orange.css"/>
<link rel="stylesheet" type="text/css" media="screen" href="css/style.css"/>
	</head>

	<body class="page-measures project-metric-service" data-spy="scroll" data-offset="60" data-target="#toc-scroll-target">

		<div class="navbar navbar-fixed-top navbar-inverse">
			<div class="navbar-inner">
				<div class="container">
					<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</a>
					<a class="brand" href="index.html"><span class="color-highlight">OW2 Chameleon</span> ~ Metric Service</a>
					<div class="nav-collapse">
						<ul class="nav pull-right">
							<li><a href="downloads.html" title="Download">Download </a></li>
							<li><a href="http://github.com/ow2-chameleon/metric-service" title="GitHub project" class="externalLink">GitHub project </a></li>
							<li class="dropdown active">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Documentation <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li class="active"><a href="" title="Measures">Measures </a></li>
									<li><a href="quantities.html" title="Quantities">Quantities </a></li>
									<li><a href="units.html" title="Units">Units </a></li>
									<li><a href="systemsOfUnits.html" title="Systems of units">Systems of units </a></li>
									<li><a href="apidocs/index.html" title="API">API </a></li>
								</ul>
							</li>
							<li class="dropdown">
								<a href="#" class="dropdown-toggle" data-toggle="dropdown">Contribute <b class="caret"></b></a>
								<ul class="dropdown-menu">
									<li><a href="contribution.html" title="Contribute">Contribute </a></li>
									<li><a href="source-repository.html" title="Sources">Sources </a></li>
									<li><a href="http://github.com/ow2-chameleon/metric-service/issues/" title="Issues" class="externalLink">Issues </a></li>
									<li><a href="http://github.com/ow2-chameleon/metric-service" title="Fork on GitHub" class="externalLink">Fork on GitHub </a></li>
								</ul>
							</li>
						</ul>
					</div><!--/.nav-collapse -->
				</div>
			</div>
		</div>
		
	<div class="container">
	
	<!-- Masthead
	================================================== -->
	</header>

	<div class="main-body">
	<div class="row">
		<div class="span8">
			<div class="body-content">
<div class="page-header">
 <h1 id="measures">Measures</h1>
</div> 
<p>A measure is a ‘quantity’ captured by a sensor (or reported by something) at a specific time. Measures are made to be traceable.</p> 
<h2 id="anatomy">Anatomy</h2> 
<p>A <a href="apidocs/org/ow2/chameleon/metric/measure/Measure.html">Measure</a> can be represented as:</p> 
<pre><code>|-------------------------------------------------------|
|  ORIGIN  |  MEASURED QUANTITY/IES   |   CAPTURE TIME  |
|-------------------------------------------------------|
</code></pre> 
<p>The measure structure is made to enforce traceability. The origin specifies from where comes the measure. It can be the sensor id, the person reported the measure or whatever suit your traceability need.</p> 
<p>The measure contains a structure of measured quantity. Basically, a measured quantity is a <code>quantity</code> decorated with an error range. Measures are parametrized with the type of structure.</p> 
<p>Finally the capture time is the time when the measure was taken.</p> 
<p>Measure objects are immutable.</p> 
<h2 id="measured_quantity">Measured Quantity</h2> 
<p>Each measure wraps one or several measured quantities. A measured quantity is a quantity decorated with an error range. For example, 5V +/-0.5 is a measured quantity. The error is expressed either as:</p> 
<ul> 
 <li>a delta</li> 
 <li>a min and max deviations</li> 
</ul> 
<p>For the previous example, the real quantity is contained in the range [4.5, 5.5].</p> 
<p>Measured quantities can also be exact, i.e. no deviations. They also provide method to check if a given value or quantity is in the range of the the measure. As quantities, measure quantities are immutable.</p> 
<h2 id="measure_types">Measure Types</h2> 
<p>Measures contain structures of measured quantities. The library provides three implementation of <code>Measure</code>:</p> 
<ul> 
 <li><code>ScalarMeasures</code> wrap one measured quantities</li> 
 <li><code>VectorMeasures</code> wrap a list of measured quantities</li> 
 <li><code>ComposedMeasures</code> wrap a named list of measured quantities</li> 
</ul> 
<p>Measure objects a created using builder objects.</p> 
<h2 id="scalar_measures">Scalar measures</h2> 
<p><a href="apidocs/org/ow2/chameleon/metric/measure/ScalarMeasure.html">Scalar measures</a> are measures wrapping one measured quantity:</p> 
<pre><code>|------------------------------------------------|
|  ORIGIN  | MEASURED QUANTITY |   CAPTURE TIME  |
|------------------------------------------------|
</code></pre> 
<p>Creating a scalar measure is done using a <code>ScalarMeasureBuilder</code>:</p> 
<pre><code>ScalarMeasure&lt;Temperature&gt; measure = new ScalarMeasure.ScalarMeasureBuilder&lt;Temperature&gt;()
     .sensor(&quot;thermometer&quot;)
     .hasMeasured(new Temperature(10, Temperature.CELSIUS))
     .at(new Date())
     .build();

ScalarMeasure&lt;Temperature&gt; measure2 = new ScalarMeasure.ScalarMeasureBuilder&lt;Temperature&gt;()
    .measure(new Temperature(10, Temperature.CELSIUS))
    .takenBy(&quot;thermometer&quot;)
    .at(new Date())
    .build();
</code></pre> 
<p>The builder is parametrized with the quantity’s kind (Temperature). The builder supports two type of sentences:</p> 
<ol> 
 <li>sensor X hasMeasured Q at D</li> 
 <li>measure Q takenBy X at D</li> 
</ol> 
<p>To retrieve the <code>MeasuredQuantity</code>, use the <code>measure()</code> method</p> 
<pre><code>        MeasuredQuantity&lt;Temperature&gt; measured = measure.measure();
</code></pre> 
<h2 id="vector_measures">Vector measures</h2> 
<p><a href="apidocs/org/ow2/chameleon/metric/measure/VectorMeasure.html">Vector measures</a> are measures wrapping a list of measured quantities:</p> 
<pre><code>|----------------------------------------------------------|
|  ORIGIN  | LIST OF MEASURED QUANTITIES |   CAPTURE TIME  |
|----------------------------------------------------------|
</code></pre> 
<p>Creating a vector measure is done using a <code>VectorMeasureBuilder</code>:</p> 
<pre><code>VectorMeasure&lt;Acceleration&gt; measure = 
        new VectorMeasure.VectorMeasureBuilder&lt;Acceleration&gt;()
    .sensor(&quot;gyroscope&quot;)
    .hasMeasured(new Acceleration(1))
    .hasMeasured(new Acceleration(2), new Acceleration(3))
    .at(new Date())
    .build();

VectorMeasure&lt;Acceleration&gt; measure2 = 
        new VectorMeasure.VectorMeasureBuilder&lt;Acceleration&gt;()
    .measure(new Acceleration(1))
    .measure(new Acceleration(2), 0.1)
    .measure(new Acceleration(3))
    .takenBy(&quot;gyroscope&quot;)
    .at(new Date())
    .build();
</code></pre> 
<p>To retrieve the list of measured quantities:</p> 
<pre><code>List&lt;MeasuredQuantity&lt;Acceleration&gt;&gt; measured = measure.measure();
</code></pre> 
<h2 id="composed_measures">Composed measures</h2> 
<p>While vector measures wrap a list of measured quantities, composed measure wrap a map of measured quantities. Each stored quantities has a name.</p> 
<p>Creating a composed measure is done using a <code>ComposedMeasureBuilder</code>:</p> 
<pre><code>ComposedMeasure&lt;Angle&gt; measure = 
        new ComposedMeasure.ComposedMeasureBuilder&lt;Angle&gt;()
    .sensor(&quot;compass&quot;)
    .hasMeasured(&quot;a&quot;, new Angle(5, Angle.RADIAN))
    .hasMeasured(&quot;b&quot;, MeasuredQuantity.&lt;Angle&gt;notCaptured())
    .at(1000)
    .build();
</code></pre> 
<p>Each measured quantities added to the measure has a name. This name is used to retrieve that quantities.</p> 
<p>To retrieve the map of measured quantities:</p> 
<pre><code>Map&lt;String, MeasuredQuantity&gt; measures = measure.measure();
    MeasureQuantity q = measured.get(&quot;a&quot;);
</code></pre> 
<h2 id="not_captured_measures">Not captured measures</h2> 
<p>Sometimes, a measure cannot be correctly retrieved from the sensor. Nevertheless, you want to emit a measure depicting this state. To handle this case, the Measure contains a measured quantities set as <em>not captured</em>:</p> 
<pre><code>ScalarMeasure&lt;Temperature&gt; bad = 
        new ScalarMeasure.ScalarMeasureBuilder&lt;Temperature&gt;()
    .measure(MeasuredQuantity.&lt;Temperature&gt;notCaptured())
    .takenBy(&quot;thermometer&quot;)
    .at(new Date())
    .build();
</code></pre> 
<p>You can check if a measured quantity is a <em>not captured</em> measure:</p> 
<pre><code>measured.isNotCaptured();
</code></pre>
			</div>
		</div>
		<div class="span4">
			<div id="toc-sidebar">
				<div class="well">
					<ul class="nav nav-list">
						<li class="nav-header">Table of Contents</li>
		<li class="dropdown"><a href="#measures" title="Measures">Measures <b class="caret"></b></a>
			<ul class="nav nav-list">
		<li><a href="#anatomy" title="Anatomy">Anatomy</a>
		<li><a href="#measured_quantity" title="Measured Quantity">Measured Quantity</a>
		<li><a href="#measure_types" title="Measure Types">Measure Types</a>
		<li><a href="#scalar_measures" title="Scalar measures">Scalar measures</a>
		<li><a href="#vector_measures" title="Vector measures">Vector measures</a>
		<li><a href="#composed_measures" title="Composed measures">Composed measures</a>
		<li><a href="#not_captured_measures" title="Not captured measures">Not captured measures</a>
				<li class="divider"></li>
			</ul>
		</li>
					</ul>
				</div>
			</div>
		</div>
	</div>
	</div>

	</div><!-- /container -->
	
	<!-- Footer
	================================================== -->
	<footer class="well">
		<div class="container">
			<div class="row">
				<div class="span3 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Main</li>
						<li>
							<a href="./" title="Home">Home </a>
						</li>
						<li>
							<a href="http://github.com/ow2-chameleon/metric-service" title="GitHub project" class="externalLink">GitHub project </a>
						</li>
						<li>
							<a href="github-report.html" title="Release notes">Release notes </a>
						</li>
						<li class="nav-header">Download</li>
						<li>
							<a href="downloads.html" title="Download">Download </a>
						</li>
						<li>
							<a href="license.html" title="License">License </a>
						</li>
					</ul>
				</div>
				<div class="span3 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Contribute</li>
						<li>
							<a href="contribution.html" title="Contribute">Contribute </a>
						</li>
						<li>
							<a href="source-repository.html" title="Sources">Sources </a>
						</li>
						<li>
							<a href="http://github.com/ow2-chameleon/metric-service/issues/" title="Issues" class="externalLink">Issues </a>
						</li>
						<li>
							<a href="http://github.com/ow2-chameleon/metric-service" title="Fork on GitHub" class="externalLink">Fork on GitHub </a>
						</li>
					</ul>
				</div>
				<div class="span3 bottom-nav">
					<ul class="nav nav-list">
						<li class="nav-header">Documentation</li>
						<li class="active">
							<a href="#" title="Measures">Measures </a>
						</li>
						<li>
							<a href="quantities.html" title="Quantities">Quantities </a>
						</li>
						<li>
							<a href="units.html" title="Units">Units </a>
						</li>
						<li>
							<a href="systemsOfUnits.html" title="Systems of units">Systems of units </a>
						</li>
						<li>
							<a href="apidocs/index.html" title="API">API </a>
						</li>
					</ul>
				</div>
				<div class="span3 bottom-description">
					<blockquote><span class="color-highlight">OW2 Chameleon</span> ~ metric service is a simple library to manipulate measures,
          units and dimensions.</blockquote>
				</div>
			</div>
		</div>
	</footer>
		
	<div class="container subfooter">
		<div class="row">
			<div class="span12">
				<p class="pull-right"><a href="#">Back to top</a></p>
				<p class="copyright">Copyright &copy;2009-2013 <a href="http://ow2.org">OW2 Chameleon</a>. All Rights Reserved.</p>
				<p class="version-date"><span class="projectVersion">Version: 1.0.0-SNAPSHOT. </span><span class="publishDate">Last Published: 2013-08-14. </span></p>
			</div>
		</div>
	</div>

	<!-- Le javascript
	================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->

	<!-- Fallback jQuery loading from Google CDN:
	     http://stackoverflow.com/questions/1014203/best-way-to-use-googles-hosted-jquery-but-fall-back-to-my-hosted-library-on-go -->
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
	<script type="text/javascript">
		if (typeof jQuery == 'undefined')
		{
			document.write(unescape("%3Cscript src='./js/jquery-1.8.3.min.js' type='text/javascript'%3E%3C/script%3E"));
		}
	</script>
	
	<script src="./js/bootstrap.min.js"></script>
	<script src="./js/lightbox.js"></script>
	<script src="./js/jquery.smooth-scroll.min.js"></script>
	<!-- back button support for smooth scroll -->
	<script src="./js/jquery.ba-bbq.min.js"></script>
	<script src="http://yandex.st/highlightjs/7.3/highlight.min.js"></script>

	<script src="./js/reflow-skin.js"></script>
	
	</body>
</html>
